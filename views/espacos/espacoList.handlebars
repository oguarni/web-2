<h2>Espaços Cadastrados</h2>

<div style="margin-bottom: 20px;">
    <a href="/espacoCreate"><button style="background-color: #27ae60; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">Novo Espaço</button></a>
</div>

{{#if espacos.length}}
<div style="overflow-x: auto;">
    <table style="min-width: 100%;">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Tipo</th>
                <th>Capacidade</th>
                <th>Descrição</th>
                <th>Status</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {{#each espacos}}
            <tr>
                <td>{{this.id}}</td>
                <td style="font-weight: bold;">{{this.nome}}</td>
                <td>
                    <span style="padding: 4px 8px; border-radius: 12px; font-size: 12px; color: white;
                        {{#if (eq this.tipo 'sala')}}background-color: #3498db;{{/if}}
                        {{#if (eq this.tipo 'auditorio')}}background-color: #9b59b6;{{/if}}
                        {{#if (eq this.tipo 'quadra')}}background-color: #e67e22;{{/if}}
                        {{#if (eq this.tipo 'coworking')}}background-color: #1abc9c;{{/if}}">
                        {{#if (eq this.tipo "sala")}}Sala de Reunião{{/if}}
                        {{#if (eq this.tipo "auditorio")}}Auditório{{/if}}
                        {{#if (eq this.tipo "quadra")}}Quadra Esportiva{{/if}}
                        {{#if (eq this.tipo "coworking")}}Espaço Coworking{{/if}}
                    </span>
                </td>
                <td style="text-align: center;">
                    <strong>{{this.capacidade}}</strong> pessoas
                </td>
                <td style="max-width: 200px;">
                    {{#if this.descricao}}
                        <div style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" title="{{this.descricao}}">
                            {{this.descricao}}
                        </div>
                    {{else}}
                        <span style="color: #999; font-style: italic;">Sem descrição</span>
                    {{/if}}
                </td>
                <td>
                    {{#if this.ativo}}
                        <span style="background-color: #27ae60; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px;">Ativo</span>
                    {{else}}
                        <span style="background-color: #e74c3c; color: white; padding: 4px 8px; border-radius: 12px; font-size: 12px;">Inativo</span>
                    {{/if}}
                </td>
                <td>
                    <div style="display: flex; gap: 5px; flex-wrap: wrap;">
                        <a href="/espacoUpdate/{{this.id}}">
                            <button style="background-color: #f39c12; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 12px;">Editar</button>
                        </a>
                        <a href="/espacoDelete/{{this.id}}">
                            <button style="background-color: #e74c3c; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; font-size: 12px;">Excluir</button>
                        </a>
                    </div>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</div>

<div style="margin-top: 20px; padding: 15px; background-color: #f8f9fa; border-radius: 4px;">
    <h4 style="margin-top: 0;">Resumo dos Espaços:</h4>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div style="text-align: center; padding: 10px; background-color: white; border-radius: 4px;">
            <strong style="color: #3498db;">Salas de Reunião</strong><br>
            <span style="font-size: 24px; font-weight: bold;">{{contadores.salas}}</span>
        </div>
        <div style="text-align: center; padding: 10px; background-color: white; border-radius: 4px;">
            <strong style="color: #9b59b6;">Auditórios</strong><br>
            <span style="font-size: 24px; font-weight: bold;">{{contadores.auditorios}}</span>
        </div>
        <div style="text-align: center; padding: 10px; background-color: white; border-radius: 4px;">
            <strong style="color: #e67e22;">Quadras</strong><br>
            <span style="font-size: 24px; font-weight: bold;">{{contadores.quadras}}</span>
        </div>
        <div style="text-align: center; padding: 10px; background-color: white; border-radius: 4px;">
            <strong style="color: #1abc9c;">Coworkings</strong><br>
            <span style="font-size: 24px; font-weight: bold;">{{contadores.coworkings}}</span>
        </div>
    </div>
</div>

{{else}}
<div style="text-align: center; margin-top: 50px; padding: 40px; background-color: #f8f9fa; border-radius: 8px;">
    <h3 style="color: #666;">Nenhum espaço cadastrado</h3>
    <p style="color: #999;">Comece criando o primeiro espaço do sistema.</p>
    <a href="/espacoCreate">
        <button style="background-color: #3498db; color: white; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; margin-top: 15px;">
            Criar Primeiro Espaço
        </button>
    </a>
</div>
{{/if}}