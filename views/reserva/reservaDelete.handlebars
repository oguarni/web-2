{{#if erro}}
    <div style="color: red; background-color: #ffebee; padding: 10px; border-radius: 4px; margin-bottom: 15px;">
        {{erro}}
    </div>
{{/if}}

<h2>Excluir Reserva</h2>

<div style="background-color: #fff3cd; padding: 15px; border-radius: 4px; margin-bottom: 20px;">
    <p style="margin: 0;"><strong>Atenção!</strong> Você está prestes a excluir a reserva abaixo. Esta ação não pode ser desfeita.</p>
</div>

<div style="background-color: #f8f9fa; padding: 20px; border-radius: 4px; margin-bottom: 20px;">
    <h3 style="margin-top: 0; color: #333;">Detalhes da Reserva</h3>
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
        <div>
            <p><strong>ID:</strong> {{reserva.id}}</p>
            <p><strong>Título:</strong> {{reserva.titulo}}</p>
            <p><strong>Espaço:</strong> {{reserva.espaco.nome}}</p>
            <p><strong>Usuário:</strong> {{reserva.usuario.nome}}</p>
        </div>
        <div>
            <p><strong>Data de Início:</strong> {{reserva.dataInicioFormatada}}</p>
            <p><strong>Data de Fim:</strong> {{reserva.dataFimFormatada}}</p>
            <p><strong>Status:</strong> 
                {{#if (eq reserva.status "confirmada")}}
                    <span style="background-color: #27ae60; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">Confirmada</span>
                {{else if (eq reserva.status "pendente")}}
                    <span style="background-color: #f39c12; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">Pendente</span>
                {{else}}
                    <span style="background-color: #e74c3c; color: white; padding: 2px 8px; border-radius: 12px; font-size: 12px;">Cancelada</span>
                {{/if}}
            </p>
        </div>
    </div>
    
    {{#if reserva.descricao}}
    <div style="margin-bottom: 15px;">
        <p><strong>Descrição:</strong></p>
        <p style="background-color: white; padding: 10px; border-radius: 4px; border: 1px solid #ddd;">{{reserva.descricao}}</p>
    </div>
    {{/if}}
    
    {{#if reserva.recursos.length}}
    <div>
        <p><strong>Recursos Reservados:</strong></p>
        <ul style="background-color: white; padding: 15px; border-radius: 4px; border: 1px solid #ddd; margin: 0;">
            {{#each reserva.recursos}}
            <li style="margin-bottom: 5px;">
                {{this.nome}} - Quantidade: {{this.ReservaRecurso.quantidade}}
                {{#if this.descricao}}
                    <br><small style="color: #666;">{{this.descricao}}</small>
                {{/if}}
            </li>
            {{/each}}
        </ul>
    </div>
    {{else}}
    <p><strong>Recursos:</strong> Nenhum recurso reservado</p>
    {{/if}}
</div>

<form action="/reservaDelete" method="post">
    <input type="hidden" name="id" value="{{reserva.id}}">
    
    <div style="display: flex; gap: 10px;">
        <button type="submit" style="background-color: #e74c3c; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;" 
                onclick="return confirm('Tem certeza que deseja excluir esta reserva? Esta ação não pode ser desfeita.')">
            Confirmar Exclusão
        </button>
        <a href="/reservaList"><button type="button" style="background-color: #95a5a6; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">Cancelar</button></a>
    </div>
</form>